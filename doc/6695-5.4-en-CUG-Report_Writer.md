# Report Writer  

**Customization Upgrade Guide**  
Release 5.4  
Area: Reporting Engine  

**Confidential**  
© 2024 Avalog Group Ltd. All rights reserved.  

---

## Latest version of this document  
The latest version can be found at:  
[https://docs.avalog.com](https://docs.avalog.com)  

## Feedback  
Contact: [documentation@avalog.com](mailto:documentation@avalog.com)  

**Copyright Notice:**  
> The information in this document is provided for informational purposes only, is subject to change without notice and is not warranted to be error-free. No part of this document may be used, reproduced or transmitted in any form or by any means unless authorized by Avalog Group Ltd through a written licence agreement.  
>  
> **Avalog Group Ltd.**  
> Allmendstr. 140 | CH-8027 Zürich | Switzerland  

---

## Version history  

| Version / Date       | Section | Description of the change                                                                 |  
|----------------------|---------|-------------------------------------------------------------------------------------------|  
| 5.4v2 / 17 Aug 2024 |         | Added link to new compiler framework topic on migrating Avaloq Script.                    |  
| 5.4v1 / 16 Jul 2024 |         | Fixed broken link to compiler framework topic.                                            |  
| 5.4v0 / 5 Apr 2022  |         | Initial release for Avaloq Core 5.4.                                                      |  

---

## Contents  
1. **Introduction** ...... 5  

---

### 1 Introduction  
This document outlines necessary changes to **screen report customizations** when upgrading to Avaloq Core 5.4 due to updates in the **compiler framework**.  

#### Key Changes:  
- **Java-based compiler framework** is now used for Avaloq Script in `REP SCREEN` sources (e.g., `before datamart`, `on layout head`, `on <level> [head[root]`).  
- No specific changes to `REP SCREEN` sources, but general compiler framework upgrades apply:  
  - **Stricter rules**:  
    - No direct access to `s#`.  
    - Enhanced type checking and syntax enforcement.  
    - Stricter client layering visibility.  
  - **Migration support**:  
    - Refer to *Migrating Avaloq Script to the new Compiler Framework* and *Avaloq Script Customization Upgrade Guide* (Doc. ID: 2606).  
    - Use the **Release Migration Wizard** for automated updates.  
  - **Policy enforcement**:  
    - Sources must now be installed via **Installer changes** (no workarounds allowed).  

#### Benefits of the New Framework:  
1. **Performance optimizations**:  
   - Details: [Optimizing Compilers](https://docs.avaloq.com/abs/compiler/Optimizing_compliers.htm).  
2. **Collections support**:  
   - Reference: [Avaloq Script Language Guide](https://docs.avaloq.com/abs/TechnicalBase/Avaloq_Script_-_Language_Reference-RG-1074/Data_Types.htm).  
3. **More concise generated code**.  

**Confidential** | © 2024 Avaloq.  